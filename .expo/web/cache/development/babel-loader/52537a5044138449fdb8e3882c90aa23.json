{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/miriamgrigsby/Covid19Hackathon/covidSee10Challenge/Components/Home.js\";\nimport React, { useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport { TextInput, TouchableOpacity } from 'react-native-gesture-handler';\nimport axios from 'axios';\nimport { useForm } from \"react-hook-form\";\nimport { disableExpoCliLogging } from 'expo/build/logs/Logs';\n\nvar Home = function Home(props) {\n  useEffect(function () {\n    try {\n      AsyncStorage.getAllKeys(function (err, keys) {\n        AsyncStorage.multiRemove(keys);\n      });\n    } catch (error) {\n      alert(\"Failed to read from storage\");\n    }\n  }, []);\n\n  var signUp = function signUp(data) {\n    axios.post('https://covid-see10.herokuapp.com/api/auth/login', {\n      username: data.username,\n      password: data.password\n    }).then(function (response) {\n      return _storeData(response.data);\n    }).then(function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n            case 2:\n              if (!_context.sent) {\n                _context.next = 6;\n                break;\n              }\n\n              loginRedirect();\n              _context.next = 7;\n              break;\n\n            case 6:\n              alert(\"Authentication Failed\\nPlease Try Again\");\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }).catch(function (error) {\n      alert(\"Authentication Failed\\nPlease Try Again\");\n    }).then(function (response) {\n      return axios.get('https://covid-see10.herokuapp.com/api/authuserprofiles/', {\n        headers: {\n          'Authorization': \"Token \" + response.token\n        }\n      }).then(function (response) {\n        return _storeData2(response.data);\n      });\n    });\n  };\n\n  var loginRedirect = function loginRedirect() {\n    var token;\n    return _regeneratorRuntime.async(function loginRedirect$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n          case 2:\n            token = _context3.sent;\n            axios.get('https://covid-see10.herokuapp.com/api/authuserprofiles/', {\n              headers: {\n                'Authorization': \"Token \" + token\n              }\n            }).then(function _callee2(response) {\n              return _regeneratorRuntime.async(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      _context2.next = 2;\n                      return _regeneratorRuntime.awrap(_storeData2(response.data));\n\n                    case 2:\n                      return _context2.abrupt(\"return\", _context2.sent);\n\n                    case 3:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            }).then(props.navigation.navigate('Main Page'));\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _storeData = function _storeData(response) {\n    return _regeneratorRuntime.async(function _storeData$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.multiSet([['userId', JSON.stringify(response.user.id)], ['token', response.token], ['username', response.user.username], ['email', response.user.email], ['challenges', JSON.stringify(response.user.challenges)], ['completed', JSON.stringify(response.user.completed)], ['first_name', response.user.first_name], ['last_name', response.user.last_name]]));\n\n          case 3:\n            return _context4.abrupt(\"return\", response);\n\n          case 6:\n            _context4.prev = 6;\n            _context4.t0 = _context4[\"catch\"](0);\n\n          case 8:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  var _storeData2 = function _storeData2(response) {\n    return _regeneratorRuntime.async(function _storeData2$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.multiSet([['age', JSON.stringify(response[0].age)], ['bio', response[0].bio], ['city', response[0].city], ['country', response[0].country], ['gender', JSON.stringify(response[0].gender)], ['profileId', JSON.stringify(response[0].id)], ['photo', JSON.stringify(response[0].photo)], ['points', JSON.stringify(response[0].points)]]));\n\n          case 3:\n            _context5.next = 7;\n            break;\n\n          case 5:\n            _context5.prev = 5;\n            _context5.t0 = _context5[\"catch\"](0);\n\n          case 7:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      setValue = _useForm.setValue;\n\n  useEffect(function () {\n    register('username');\n    register('password');\n  }, [register]);\n  return React.createElement(ImageBackground, {\n    style: styles.background,\n    source: require(\"../homeBackgroundd.jpg\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.welcomeContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.welcome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"Welcome to the Covid-See10 Challenge\"), React.createElement(TextInput, {\n    editable: true,\n    style: styles.username,\n    placeholder: \"Username\",\n    onChangeText: function onChangeText(text) {\n      setValue('username', text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    editable: true,\n    style: styles.password,\n    placeholder: \"Password\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      setValue('password', text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.authButtons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.signUpButton,\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Sign Up\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.signUpText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, \"Sign-Up\")), React.createElement(TouchableOpacity, {\n    style: styles.loginButton,\n    onPress: handleSubmit(signUp),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.loginText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, \"Login\")))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: \"whitesmoke\",\n    borderTopWidth: 6,\n    borderColor: \"black\"\n  },\n  welcomeContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: \"center\",\n    width: \"100%\",\n    maxHeight: \"65%\"\n  },\n  authButtons: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    width: \"100%\",\n    marginTop: \"1.5%\"\n  },\n  welcome: {\n    fontSize: 30,\n    textAlign: 'center',\n    textDecorationLine: \"underline\",\n    fontWeight: \"bold\",\n    marginBottom: \"15%\"\n  },\n  username: {\n    width: \"70%\",\n    height: \"9%\",\n    borderWidth: 1,\n    textAlign: \"center\",\n    marginBottom: \"4%\",\n    marginTop: \"10%\",\n    backgroundColor: \"black\",\n    color: \"white\"\n  },\n  password: {\n    width: \"70%\",\n    height: \"14%\",\n    borderWidth: 1,\n    textAlign: \"center\",\n    backgroundColor: \"black\",\n    color: \"white\"\n  },\n  loginButton: {\n    maxHeight: \"15%\",\n    minWidth: \"47%\",\n    borderWidth: 1,\n    flex: 1,\n    justifyContent: \"center\",\n    marginLeft: \"-20%\",\n    backgroundColor: \"black\"\n  },\n  loginText: {\n    textAlign: \"center\",\n    fontSize: 20,\n    color: \"white\"\n  },\n  signUpButton: {\n    maxHeight: \"15%\",\n    minWidth: \"48%\",\n    borderWidth: 1,\n    flex: 1,\n    justifyContent: \"center\",\n    marginRight: \"-20%\",\n    backgroundColor: \"black\"\n  },\n  signUpText: {\n    textAlign: \"center\",\n    fontSize: 20,\n    color: \"white\"\n  },\n  background: {\n    width: '100%',\n    height: '110%',\n    opacity: 0.8\n  }\n});\nexport default Home;","map":{"version":3,"sources":["/Users/miriamgrigsby/Covid19Hackathon/covidSee10Challenge/Components/Home.js"],"names":["React","useEffect","TextInput","TouchableOpacity","axios","useForm","disableExpoCliLogging","Home","props","AsyncStorage","getAllKeys","err","keys","multiRemove","error","alert","signUp","data","post","username","password","then","response","_storeData","getItem","loginRedirect","catch","get","headers","token","_storeData2","navigation","navigate","multiSet","JSON","stringify","user","id","email","challenges","completed","first_name","last_name","age","bio","city","country","gender","photo","points","register","handleSubmit","setValue","styles","background","require","container","welcomeContainer","welcome","text","authButtons","signUpButton","signUpText","loginButton","loginText","StyleSheet","create","flex","alignItems","backgroundColor","borderTopWidth","borderColor","justifyContent","width","maxHeight","flexDirection","marginTop","fontSize","textAlign","textDecorationLine","fontWeight","marginBottom","height","borderWidth","color","minWidth","marginLeft","marginRight","opacity"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { StyleSheet, Text, View, ImageBackground, AsyncStorage } from 'react-native';\nimport { TextInput, TouchableOpacity } from 'react-native-gesture-handler';\nimport axios from 'axios'\n\nimport { useForm } from \"react-hook-form\";\nimport { disableExpoCliLogging } from 'expo/build/logs/Logs';\n\nconst Home = (props) => {\n\n    useEffect(() => {\n        try {\n            AsyncStorage.getAllKeys((err, keys) => {\n                AsyncStorage.multiRemove(keys)\n            })\n        } catch (error) {\n            alert(\"Failed to read from storage\")\n        }\n    }, [])\n\n    const signUp = (data) => {\n        axios.post('https://covid-see10.herokuapp.com/api/auth/login', { username: data.username, password: data.password })\n        .then(response => _storeData(response.data))\n        .then(async () => {await AsyncStorage.getItem('token') ? loginRedirect() : alert(\"Authentication Failed\\nPlease Try Again\")  })\n        .catch(error => {\n                alert(\"Authentication Failed\\nPlease Try Again\")\n            })\n        .then(response => axios.get('https://covid-see10.herokuapp.com/api/authuserprofiles/', {headers: {'Authorization': `Token ${response.token}`}}).then(response => _storeData2(response.data)))\n    }\n\n    const loginRedirect = async() => {\n        const token =  await  AsyncStorage.getItem('token')\n\n        axios.get('https://covid-see10.herokuapp.com/api/authuserprofiles/', {headers: {'Authorization': `Token ${token}`}})\n        .then(async (response) => await _storeData2(response.data))\n        .then(props.navigation.navigate('Main Page'))\n              \n    }\n\n    const _storeData = async (response) => {\n        try {\n            await AsyncStorage.multiSet([['userId', JSON.stringify(response.user.id)], ['token', response.token], ['username', response.user.username], ['email', response.user.email], ['challenges', JSON.stringify(response.user.challenges)], ['completed', JSON.stringify(response.user.completed)], ['first_name', response.user.first_name], ['last_name', response.user.last_name]])\n            return response\n        } catch (error) {\n        }\n    };\n\n    const _storeData2 = async (response) => {\n        try {\n            await AsyncStorage.multiSet([['age', JSON.stringify(response[0].age)], ['bio', response[0].bio], ['city', response[0].city], ['country', response[0].country], ['gender', JSON.stringify(response[0].gender)], ['profileId', JSON.stringify(response[0].id)], ['photo', JSON.stringify(response[0].photo)], ['points', JSON.stringify(response[0].points)]])\n        } catch (error) {\n        }\n    }\n\n    const { register, handleSubmit, setValue } = useForm()\n\n\n\n    useEffect(() => {\n        register('username')\n        register('password')\n    }, [register])\n\n\n\n\n    // onPress={handleSubmit(signUp)}\n        return (\n            <ImageBackground\n                style={styles.background}\n                source={require(\"../homeBackgroundd.jpg\")}\n                    \n            >\n                <View style={styles.container}>\n                    <View style={styles.welcomeContainer}>\n                        <Text style={styles.welcome}>Welcome to the Covid-See10 Challenge</Text>\n                        <TextInput editable style={styles.username} placeholder=\"Username\" onChangeText={text => { setValue('username', text) }}></TextInput>\n                        <TextInput editable style={styles.password} placeholder=\"Password\" secureTextEntry={true} onChangeText={text => { setValue('password', text) }}></TextInput>\n                    </View>\n                    <View style={styles.authButtons}>\n                        <TouchableOpacity style={styles.signUpButton} onPress={() => props.navigation.navigate(\"Sign Up\")} >\n                            <Text style={styles.signUpText}>Sign-Up</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity style={styles.loginButton} onPress={handleSubmit(signUp)}>\n                            <Text style={styles.loginText}>Login</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            </ImageBackground>\n        );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        backgroundColor: \"whitesmoke\",\n        borderTopWidth: 6,\n        borderColor: \"black\"\n    },\n    welcomeContainer: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: \"center\",\n        width: \"100%\",\n        maxHeight: \"65%\",      \n    },\n    authButtons: {\n        flex: 1,\n        flexDirection: \"row\",\n        justifyContent: \"space-evenly\",\n        width: \"100%\",\n        marginTop: \"1.5%\"\n    },\n    welcome: {\n        fontSize: 30,\n        textAlign: 'center',\n        textDecorationLine: \"underline\",\n        fontWeight: \"bold\",\n        marginBottom: \"15%\"\n        // color: \"white\"\n    },\n    username: {\n        width: \"70%\",\n        height: \"9%\",\n        borderWidth: 1,\n        textAlign: \"center\",\n        marginBottom: \"4%\",\n        marginTop: \"10%\",\n        backgroundColor: \"black\",\n        color: \"white\"\n    },\n    password: {\n        width: \"70%\",\n        height: \"14%\",\n        borderWidth: 1,\n        textAlign: \"center\",\n        backgroundColor: \"black\",\n        color: \"white\"\n    },\n    loginButton: {\n        maxHeight: \"15%\",\n        minWidth: \"47%\",\n        borderWidth: 1,\n        flex: 1,\n        justifyContent: \"center\",\n        marginLeft: \"-20%\",\n        backgroundColor: \"black\",\n    },\n    loginText: {\n        textAlign: \"center\",\n        fontSize: 20,\n        color: \"white\"\n    },\n    signUpButton: {\n        maxHeight: \"15%\",\n        minWidth: \"48%\",\n        borderWidth: 1,\n        flex: 1,\n        justifyContent: \"center\",\n        marginRight: \"-20%\",\n        backgroundColor: \"black\"\n    },\n    signUpText: {\n        textAlign: \"center\",\n        fontSize: 20,\n        color: \"white\"\n    },\n    background: {\n        width: '100%',\n        height: '110%',\n        opacity: 0.8\n    }\n});\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}